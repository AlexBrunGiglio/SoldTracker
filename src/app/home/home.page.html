<ion-content [fullscreen]="true">
  <div class="container">
    <div class="header-title">
      <h1>Bonjour <br> {{user?.firstName}}</h1>
      <ion-button fill="clear" (click)="presentTransactionModal()">
        <ion-icon slot="icon-only" name="add-circle-outline"></ion-icon>
      </ion-button>
    </div>
    <div class="sold-account">
      <div class="sold-data">
        <p>Solde actuel </p>
        <h2>{{user?.solde |currency:'EUR'}}</h2>
      </div>
    </div>
    <div class="transactions">
      <div class="transactions-title">
        <div>
          <h3>Transactions récentes :</h3>
        </div>
        <div class="see-all">
          <div>
            <span>Voir tout</span>
          </div>
          <div>
            <img src="/assets/icon/chevron.svg">
          </div>
        </div>
      </div>
      <div class="list-transactions" *ngIf="user?.transactions?.length">
        <div class="item-transactions" *ngFor="let transaction of user.transactions;let i=index"
          (click)="presentTransactionModal(transaction)">
          <ng-container *ngIf="i < 4">
            <div class="avatar-description">
              <div class="icon-avatar" [style.backgroundColor]="transaction.categorie.backgroundColor">
                <span>{{transaction.categorie.icon}}</span>
              </div>
              <div class="description">
                <div class="company">
                  {{transaction.label}}
                </div>
                <div class="date">
                  {{transaction.date | date:'hh:mm dd/MM/yyyy'}}
                </div>
              </div>
            </div>
            <div class="price">
              <span [class]="transaction.value > 0 ? 'good' : ''">
                {{transaction.value |currency:'EUR'}}
              </span>
            </div>
          </ng-container>
        </div>
      </div>
      <div *ngIf="!user?.transactions?.length">
        Vous n'avez aucune dépense enregistré.
      </div>
    </div>
  </div>
</ion-content>